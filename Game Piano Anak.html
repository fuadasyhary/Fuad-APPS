<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Piano Anak</title>
    <link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/4702/4702764.png">
    <style>
        body {
            font-family: 'Comic Sans MS', Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            background: linear-gradient(to bottom, #e0f7fa, #80deea);
            margin: 0;
            padding: 20px;
        }
        h1 {
            color: #1b57d8;
            font-size: 2.5em;
            text-shadow: 2px 2px #ffffff;
            margin-bottom: 15px;
        }
        #songSelect {
            width: 320px;
            padding: 10px;
            font-size: 1.1em;
            border-radius: 10px;
            margin-bottom: 15px;
            background-color: #ffffff;
            border: 2px solid #f06292;
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
            cursor: pointer;
        }
        #noteDisplay {
            font-size: 1.3em;
            color: #ffffff;
            background-color: #4a44ef;
            padding: 10px;
            border-radius: 10px;
            border: 2px solid #ffffff;
            margin-bottom: 15px;
            width: 320px;
            text-align: center;
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
        }
        #fullNotes {
            font-size: 1.1em;
            color: #333;
            background-color: #ffffff;
            padding: 15px 20px;
            border-radius: 10px;
            border: 2px solid #f06292;
            margin-bottom: 15px;
            width: 90%;
            max-width: 800px;
            text-align: center;
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
            overflow-x: auto;
            white-space: nowrap;
        }
        #fullNotes span {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            min-width: 60px;
            padding: 8px;
            margin: 4px;
            border-radius: 5px;
            background-color: #e0e0e0;
            border: 1px solid #ccc;
        }
        #fullNotes .played {
            background-color: #4caf50;
            color: #ffffff;
        }
        #fullNotes .current {
            background-color: #ffeb3b;
            color: #333;
        }
        #fullNotes .lyric {
            font-size: 0.9em;
            color: #333;
            margin-top: 4px;
        }
        .piano {
            display: flex;
            justify-content: center;
            background: #ffffff;
            padding: 10px;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            flex-wrap: wrap;
        }
        .key {
            width: 60px;
            height: 200px;
            margin: 4px;
            border: 2px solid #333;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            font-size: 1.2em;
            font-weight: bold;
            color: #333;
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.1s;
            position: relative;
        }
        .white {
            background: linear-gradient(#ffffff, #e0e0e0);
            box-shadow: inset 0 -5px 10px rgba(0,0,0,0.1);
        }
        .black {
            background: linear-gradient(#333333, #111111);
            color: #ffffff;
            width: 36px;
            height: 130px;
            margin: -65px 0 0 -18px;
            z-index: 1;
            box-shadow: inset 0 -3px 5px rgba(255,255,255,0.2);
        }
        .key:active {
            transform: scale(0.95);
            box-shadow: 0 2px 4px rgba(0,0,0,0.4);
        }
        .note-label {
            position: absolute;
            top: 10px;
            font-size: 1em;
            color: inherit;
        }
        .watermark {
            position: fixed;
            bottom: 10px;
            right: 10px;
            color: rgba(0, 0, 0, 0.3);
            font-size: 12px;
            font-family: Arial, sans-serif;
            z-index: 1000;
        }
        .watermark a {
            color: rgba(0, 0, 0, 0.5);
            text-decoration: none;
        }
        .watermark a:hover {
            color: rgba(0, 0, 0, 0.8);
            text-decoration: underline;
        }
        #mobilePopup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            z-index: 2000;
            justify-content: center;
            align-items: center;
            text-align: center;
            flex-direction: column;
        }
        #mobilePopup p {
            font-size: 20px;
            margin: 20px;
        }
        #mobilePopup button {
            padding: 10px 20px;
            font-size: 1.2em;
            border-radius: 10px;
            background-color: #f06292;
            color: white;
            border: none;
            cursor: pointer;
        }
        #mobilePopup button:hover {
            background-color: #d81b60;
        }
    </style>
</head>
<body>
    <div id="mobilePopup">
        <p>Harap putar perangkat ke mode landscape untuk bermain game ini!</p>
        <button id="playButton">Main Sekarang</button>
    </div>
    <div class="watermark"><a href="https://id.linkedin.com/in/mochamad-fuad-asyhary">By Mochamad Fuad Asyhary</a></div>  
    <h1>Game Piano Anak</h1>
    <select id="songSelect">
        <option value="bintang_kecil">Bintang Kecil</option>
        <option value="kasih_ibu">Kasih Ibu kepada Beta</option>
        <option value="balonku">Balonku Ada Lima</option>
        <option value="cicak">Cicak di Dinding</option>
        <option value="naik_delman">Naik Delman</option>
        <option value="kupu_kupu">Kupu-Kupu yang Lucu</option>
        <option value="pelangi">Pelangi</option>
        <option value="kebunku">Lihat Kebunku</option>
        <option value="burung_kakatua">Burung Kakatua</option>
        <option value="ambilkan_bulan">Ambilkan Bulan Bu</option>
        <option value="topi_saya">Topi Saya Bundar</option>
        <option value="tik_tik_hujan">Tik Tik Bunyi Hujan</option>
        <option value="indonesia_raya">Indonesia Raya</option>
        <option value="mengheningkan_cipta">Mengheningkan Cipta</option>
        <option value="bagimu_negeri">Bagimu Negeri</option>
        <option value="ibu_kita_kartini">Ibu Kita Kartini</option>
        <option value="syukur">Syukur</option>
        <option value="tanah_airku">Tanah Airku</option>
        <option value="bendera_merah_putih">Bendera Merah Putih</option>
        <option value="gebyar_gebyar">Gebyar-Gebyar</option>
        <option value="satu_satu">Satu Nusa Satu Bangsa</option>
        <option value="hymne_guru">Hymne Guru</option>
    </select>
    <div id="noteDisplay">Pilih lagu untuk melihat petunjuk nada!</div>
    <div id="fullNotes"></div>
    <div class="piano">
        <div class="key white" data-note="C4" data-freq="261.63"><span class="note-label">1</span></div>
        <div class="key black" data-note="Db4" data-freq="277.18"><span class="note-label">2</span></div>
        <div class="key white" data-note="D4" data-freq="293.66"><span class="note-label">3</span></div>
        <div class="key black" data-note="Eb4" data-freq="311.13"><span class="note-label">4</span></div>
        <div class="key white" data-note="E4" data-freq="329.63"><span class="note-label">5</span></div>
        <div class="key white" data-note="F4" data-freq="349.23"><span class="note-label">6</span></div>
        <div class="key black" data-note="Gb4" data-freq="369.99"><span class="note-label">7</span></div>
        <div class="key white" data-note="G4" data-freq="392.00"><span class="note-label">1'</span></div>
        <div class="key black" data-note="Ab4" data-freq="415.30"><span class="note-label">2'</span></div>
        <div class="key white" data-note="A4" data-freq="440.00"><span class="note-label">3'</span></div>
        <div class="key black" data-note="Bb4" data-freq="466.16"><span class="note-label">4'</span></div>
        <div class="key white" data-note="B4" data-freq="493.88"><span class="note-label">5'</span></div>
        <div class="key white" data-note="C5" data-freq="523.25"><span class="note-label">6'</span></div>
        <div class="key black" data-note="Db5" data-freq="554.37"><span class="note-label">7'</span></div>
        <div class="key white" data-note="D5" data-freq="587.33"><span class="note-label">1''</span></div>
        <div class="key black" data-note="Eb5" data-freq="622.25"><span class="note-label">2''</span></div>
        <div class="key white" data-note="E5" data-freq="659.25"><span class="note-label">3''</span></div>
        <div class="key white" data-note="F5" data-freq="698.46"><span class="note-label">4''</span></div>
        <div class="key black" data-note="Gb5" data-freq="739.99"><span class="note-label">5''</span></div>
        <div class="key white" data-note="G5" data-freq="783.99"><span class="note-label">6''</span></div>
        <div class="key black" data-note="Ab5" data-freq="830.61"><span class="note-label">7''</span></div>
        <div class="key white" data-note="A5" data-freq="880.00"><span class="note-label">1'''</span></div>
        <div class="key black" data-note="Bb5" data-freq="932.33"><span class="note-label">2'''</span></div>
        <div class="key white" data-note="B5" data-freq="987.77"><span class="note-label">3'''</span></div>
        <div class="key white" data-note="C6" data-freq="1046.50"><span class="note-label">4'''</span></div>
    </div>

    <script>
        const songs = {
            bintang_kecil: [
                { note: "G4", number: "1'", lyric: "Bin-", duration: 500 },
                { note: "G4", number: "1'", lyric: "tang", duration: 500 },
                { note: "D5", number: "1''", lyric: "ke-", duration: 500 },
                { note: "D5", number: "1''", lyric: "cil", duration: 500 },
                { note: "E5", number: "3''", lyric: "di", duration: 500 },
                { note: "E5", number: "3''", lyric: "langit", duration: 500 },
                { note: "D5", number: "1''", lyric: "tinggi", duration: 1000 },
                { note: "C5", number: "6'", lyric: "Amat", duration: 500 },
                { note: "C5", number: "6'", lyric: "banyak", duration: 500 },
                { note: "B4", number: "5'", lyric: "hias", duration: 500 },
                { note: "B4", number: "5'", lyric: "ang-", duration: 500 },
                { note: "A4", number: "3'", lyric: "ka-", duration: 500 },
                { note: "A4", number: "3'", lyric: "sa", duration: 500 },
                { note: "G4", number: "1'", lyric: "", duration: 1000 },
                { note: "G4", number: "1'", lyric: "Aku", duration: 500 },
                { note: "G4", number: "1'", lyric: "ingin", duration: 500 },
                { note: "D5", number: "1''", lyric: "ter-", duration: 500 },
                { note: "D5", number: "1''", lyric: "bang", duration: 500 },
                { note: "E5", number: "3''", lyric: "dan", duration: 500 },
                { note: "E5", number: "3''", lyric: "mena-", duration: 500 },
                { note: "D5", number: "1''", lyric: "ri", duration: 1000 },
                { note: "C5", number: "6'", lyric: "Jauh", duration: 500 },
                { note: "C5", number: "6'", lyric: "tinggi", duration: 500 },
                { note: "B4", number: "5'", lyric: "ke", duration: 500 },
                { note: "B4", number: "5'", lyric: "tempat", duration: 500 },
                { note: "A4", number: "3'", lyric: "kau", duration: 500 },
                { note: "A4", number: "3'", lyric: "bera-", duration: 500 },
                { note: "G4", number: "1'", lyric: "da", duration: 1000 }
            ],
            kasih_ibu: [
                { note: "G4", number: "1'", lyric: "Ka-", duration: 500 },
                { note: "F4", number: "6", lyric: "sih", duration: 500 },
                { note: "G4", number: "1'", lyric: "i-", duration: 500 },
                { note: "E4", number: "5", lyric: "bu", duration: 250 },
                { note: "E4", number: "5", lyric: "ke-", duration: 250 },
                { note: "C5", number: "6'", lyric: "pa-", duration: 500 },
                { note: "B4", number: "5'", lyric: "da", duration: 500 },
                { note: "A4", number: "3'", lyric: "be-", duration: 500 },
                { note: "G4", number: "1'", lyric: "ta", duration: 1000 },
                { note: "A4", number: "3'", lyric: "Tak", duration: 500 },
                { note: "G4", number: "1'", lyric: "ter-", duration: 500 },
                { note: "F4", number: "6", lyric: "hin-", duration: 500 },
                { note: "E4", number: "5", lyric: "gga", duration: 250 },
                { note: "E4", number: "5", lyric: "se-", duration: 250 },
                { note: "G4", number: "1'", lyric: "pan-", duration: 500 },
                { note: "A4", number: "3'", lyric: "jang", duration: 500 },
                { note: "F4", number: "6", lyric: "ma-", duration: 500 },
                { note: "E4", number: "5", lyric: "sa", duration: 1000 },
                { note: "G4", number: "1'", lyric: "Han-", duration: 500 },
                { note: "F4", number: "6", lyric: "ya", duration: 500 },
                { note: "G4", number: "1'", lyric: "mem-", duration: 500 },
                { note: "E4", number: "5", lyric: "be-", duration: 250 },
                { note: "E4", number: "5", lyric: "ri", duration: 250 },
                { note: "C5", number: "6'", lyric: "tak", duration: 500 },
                { note: "C5", number: "6'", lyric: "harap", duration: 500 },
                { note: "B4", number: "5'", lyric: "ke-", duration: 500 },
                { note: "A4", number: "3'", lyric: "mbali", duration: 1000 },
                { note: "A4", number: "3'", lyric: "Ba-", duration: 500 },
                { note: "G4", number: "1'", lyric: "gai", duration: 500 },
                { note: "F4", number: "6", lyric: "sang", duration: 500 },
                { note: "E4", number: "5", lyric: "sur-", duration: 250 },
                { note: "E4", number: "5", lyric: "ya", duration: 250 },
                { note: "G4", number: "1'", lyric: "meny-", duration: 500 },
                { note: "A4", number: "3'", lyric: "i-", duration: 500 },
                { note: "F4", number: "6", lyric: "na-", duration: 500 },
                { note: "E4", number: "5", lyric: "ri", duration: 1000 }
            ],
            balonku: [
                { note: "C4", number: "1", lyric: "Ba-", duration: 500 },
                { note: "E4", number: "5", lyric: "lon-", duration: 500 },
                { note: "G4", number: "1'", lyric: "ku", duration: 500 },
                { note: "G4", number: "1'", lyric: "a-", duration: 500 },
                { note: "A4", number: "3'", lyric: "da", duration: 500 },
                { note: "G4", number: "1'", lyric: "li-", duration: 500 },
                { note: "E4", number: "5", lyric: "ma", duration: 500 },
                { note: "C4", number: "1", lyric: "", duration: 1000 },
                { note: "G4", number: "1'", lyric: "Me-", duration: 500 },
                { note: "A4", number: "3'", lyric: "rah", duration: 500 },
                { note: "G4", number: "1'", lyric: "kun-", duration: 500 },
                { note: "A4", number: "3'", lyric: "ing", duration: 500 },
                { note: "C5", number: "6'", lyric: "hi-", duration: 500 },
                { note: "B4", number: "5'", lyric: "jau", duration: 500 },
                { note: "A4", number: "3'", lyric: "biru", duration: 500 },
                { note: "G4", number: "1'", lyric: "", duration: 1000 }
            ],
            cicak: [
                { note: "C5", number: "6'", lyric: "Ci-", duration: 500 },
                { note: "A4", number: "3'", lyric: "cak", duration: 500 },
                { note: "C5", number: "6'", lyric: "ci-", duration: 500 },
                { note: "A4", number: "3'", lyric: "cak", duration: 500 },
                { note: "A4", number: "3'", lyric: "di", duration: 500 },
                { note: "B4", number: "5'", lyric: "din-", duration: 500 },
                { note: "C5", number: "6'", lyric: "ding", duration: 500 },
                { note: "B4", number: "5'", lyric: "Di-", duration: 500 },
                { note: "G4", number: "1'", lyric: "am", duration: 500 },
                { note: "B4", number: "5'", lyric: "di-", duration: 500 },
                { note: "C5", number: "6'", lyric: "am", duration: 500 },
                { note: "B4", number: "5'", lyric: "me-", duration: 500 },
                { note: "A4", number: "3'", lyric: "ra-", duration: 500 },
                { note: "G4", number: "1'", lyric: "yap", duration: 500 },
                { note: "C5", number: "6'", lyric: "Da-", duration: 500 },
                { note: "A4", number: "3'", lyric: "tang", duration: 500 },
                { note: "C5", number: "6'", lyric: "se-", duration: 500 },
                { note: "A4", number: "3'", lyric: "e-", duration: 500 },
                { note: "C5", number: "6'", lyric: "kor", duration: 500 },
                { note: "D5", number: "1''", lyric: "nya-", duration: 500 },
                { note: "E5", number: "3''", lyric: "muk", duration: 500 },
                { note: "E5", number: "3''", lyric: "Ha-", duration: 500 },
                { note: "A4", number: "3'", lyric: "p", duration: 500 },
                { note: "C5", number: "6'", lyric: "la-", duration: 500 },
                { note: "B4", number: "5'", lyric: "lu", duration: 500 },
                { note: "G4", number: "1'", lyric: "di-", duration: 500 },
                { note: "E4", number: "5", lyric: "tangkap", duration: 1000 }
            ],
            naik_delman: [
                { note: "C4", number: "1", lyric: "Naik", duration: 500 },
                { note: "E4", number: "5", lyric: "del-", duration: 500 },
                { note: "G4", number: "1'", lyric: "man", duration: 500 },
                { note: "G4", number: "1'", lyric: "is-", duration: 500 },
                { note: "A4", number: "3'", lyric: "ti-", duration: 500 },
                { note: "G4", number: "1'", lyric: "wa", duration: 500 },
                { note: "E4", number: "5", lyric: "ke", duration: 500 },
                { note: "C4", number: "1", lyric: "pasar", duration: 1000 },
                { note: "G4", number: "1'", lyric: "Ku-", duration: 500 },
                { note: "A4", number: "3'", lyric: "duduk", duration: 500 },
                { note: "G4", number: "1'", lyric: "di", duration: 500 },
                { note: "A4", number: "3'", lyric: "muka", duration: 500 },
                { note: "C5", number: "6'", lyric: "ku-", duration: 500 },
                { note: "B4", number: "5'", lyric: "duduk", duration: 500 },
                { note: "A4", number: "3'", lyric: "di", duration: 500 },
                { note: "G4", number: "1'", lyric: "samping", duration: 1000 }
            ],
            kupu_kupu: [
                { note: "C4", number: "1", lyric: "Ku-", duration: 500 },
                { note: "D4", number: "3", lyric: "pu-", duration: 500 },
                { note: "C4", number: "1", lyric: "ku-", duration: 500 },
                { note: "B4", number: "5'", lyric: "pu", duration: 500 },
                { note: "A4", number: "3'", lyric: "yang", duration: 500 },
                { note: "B4", number: "5'", lyric: "lu-", duration: 500 },
                { note: "A4", number: "3'", lyric: "cu", duration: 500 },
                { note: "C5", number: "6'", lyric: "Ke-", duration: 500 },
                { note: "D5", number: "1''", lyric: "ma-", duration: 500 },
                { note: "C5", number: "6'", lyric: "na", duration: 500 },
                { note: "B4", number: "5'", lyric: "eng-", duration: 500 },
                { note: "A4", number: "3'", lyric: "kau", duration: 500 },
                { note: "G4", number: "1'", lyric: "ter-", duration: 500 },
                { note: "F4", number: "6", lyric: "bang", duration: 500 },
                { note: "D4", number: "3", lyric: "Hi-", duration: 500 },
                { note: "E4", number: "5", lyric: "lir", duration: 500 },
                { note: "F4", number: "6", lyric: "mu-", duration: 500 },
                { note: "A4", number: "3'", lyric: "dik", duration: 500 },
                { note: "G4", number: "1'", lyric: "men-", duration: 500 },
                { note: "F4", number: "6", lyric: "ca-", duration: 500 },
                { note: "E4", number: "5", lyric: "ri", duration: 1000 }
            ],
            pelangi: [
                { note: "C4", number: "1", lyric: "Pe-", duration: 500 },
                { note: "E4", number: "5", lyric: "lan-", duration: 500 },
                { note: "G4", number: "1'", lyric: "gi", duration: 500 },
                { note: "A4", number: "3'", lyric: "pe-", duration: 500 },
                { note: "G4", number: "1'", lyric: "lan-", duration: 500 },
                { note: "E4", number: "5", lyric: "gi", duration: 500 },
                { note: "C4", number: "1", lyric: "", duration: 1000 },
                { note: "G4", number: "1'", lyric: "Merah", duration: 500 },
                { note: "A4", number: "3'", lyric: "kuning", duration: 500 },
                { note: "C5", number: "6'", lyric: "hijau", duration: 500 },
                { note: "B4", number: "5'", lyric: "di", duration: 500 },
                { note: "A4", number: "3'", lyric: "langit", duration: 500 },
                { note: "G4", number: "1'", lyric: "yang", duration: 500 },
                { note: "F4", number: "6", lyric: "indah", duration: 1000 }
            ],
            kebunku: [
                { note: "G4", number: "1'", lyric: "Li-", duration: 500 },
                { note: "A4", number: "3'", lyric: "hat", duration: 500 },
                { note: "C5", number: "6'", lyric: "ke-", duration: 500 },
                { note: "B4", number: "5'", lyric: "bun-", duration: 500 },
                { note: "A4", number: "3'", lyric: "ku", duration: 500 },
                { note: "G4", number: "1'", lyric: "penuh", duration: 500 },
                { note: "F4", number: "6", lyric: "dengan", duration: 500 },
                { note: "E4", number: "5", lyric: "bunga", duration: 1000 },
                { note: "C5", number: "6'", lyric: "Semua", duration: 500 },
                { note: "B4", number: "5'", lyric: "indah", duration: 500 },
                { note: "A4", number: "3'", lyric: "dan", duration: 500 },
                { note: "G4", number: "1'", lyric: "riang", duration: 500 },
                { note: "F4", number: "6", lyric: "mekar", duration: 500 },
                { note: "E4", number: "5", lyric: "", duration: 1000 }
            ],
            burung_kakatua: [
                { note: "C5", number: "6'", lyric: "Bu-", duration: 500 },
                { note: "C5", number: "6'", lyric: "rung", duration: 500 },
                { note: "A4", number: "3'", lyric: "ka-", duration: 500 },
                { note: "E4", number: "5", lyric: "kak", duration: 500 },
                { note: "A4", number: "3'", lyric: "tu-", duration: 500 },
                { note: "G4", number: "1'", lyric: "a", duration: 500 },
                { note: "B4", number: "5'", lyric: "Hing-", duration: 500 },
                { note: "C5", number: "6'", lyric: "gap", duration: 500 },
                { note: "D5", number: "1''", lyric: "di", duration: 500 },
                { note: "C5", number: "6'", lyric: "jen-", duration: 500 },
                { note: "B4", number: "5'", lyric: "de-", duration: 500 },
                { note: "A4", number: "3'", lyric: "la", duration: 500 },
                { note: "G4", number: "1'", lyric: "", duration: 1000 }
            ],
            ambilkan_bulan: [
                { note: "C4", number: "1", lyric: "Am-", duration: 500 },
                { note: "E4", number: "5", lyric: "bil-", duration: 500 },
                { note: "G4", number: "1'", lyric: "kan", duration: 500 },
                { note: "A4", number: "3'", lyric: "bu-", duration: 500 },
                { note: "G4", number: "1'", lyric: "lan", duration: 500 },
                { note: "E4", number: "5", lyric: "bu", duration: 500 },
                { note: "C4", number: "1", lyric: "", duration: 1000 },
                { note: "G4", number: "1'", lyric: "Yang", duration: 500 },
                { note: "A4", number: "3'", lyric: "selalu", duration: 500 },
                { note: "C5", number: "6'", lyric: "sinar", duration: 500 },
                { note: "B4", number: "5'", lyric: "di", duration: 500 },
                { note: "A4", number: "3'", lyric: "langit", duration: 500 },
                { note: "G4", number: "1'", lyric: "", duration: 1000 }
            ],
            topi_saya: [
                { note: "C4", number: "1", lyric: "To-", duration: 500 },
                { note: "E4", number: "5", lyric: "pi", duration: 500 },
                { note: "G4", number: "1'", lyric: "sa-", duration: 500 },
                { note: "A4", number: "3'", lyric: "ya", duration: 500 },
                { note: "G4", number: "1'", lyric: "bun-", duration: 500 },
                { note: "E4", number: "5", lyric: "dar", duration: 500 },
                { note: "C4", number: "1", lyric: "", duration: 1000 },
                { note: "G4", number: "1'", lyric: "Bun-", duration: 500 },
                { note: "A4", number: "3'", lyric: "dar", duration: 500 },
                { note: "C5", number: "6'", lyric: "to-", duration: 500 },
                { note: "B4", number: "5'", lyric: "pi", duration: 500 },
                { note: "A4", number: "3'", lyric: "sa-", duration: 500 },
                { note: "G4", number: "1'", lyric: "ya", duration: 1000 }
            ],
            tik_tik_hujan: [
                { note: "C5", number: "6'", lyric: "Tik", duration: 500 },
                { note: "A4", number: "3'", lyric: "tik", duration: 500 },
                { note: "C5", number: "6'", lyric: "tik", duration: 500 },
                { note: "A4", number: "3'", lyric: "bunyi", duration: 500 },
                { note: "G4", number: "1'", lyric: "hu-", duration: 500 },
                { note: "F4", number: "6", lyric: "jan", duration: 500 },
                { note: "E4", number: "5", lyric: "", duration: 1000 },
                { note: "G4", number: "1'", lyric: "Air", duration: 500 },
                { note: "A4", number: "3'", lyric: "pada", duration: 500 },
                { note: "C5", number: "6'", lyric: "genting", duration: 500 },
                { note: "B4", number: "5'", lyric: "", duration: 500 },
                { note: "A4", number: "3'", lyric: "Air-", duration: 500 },
                { note: "G4", number: "1'", lyric: "alir", duration: 1000 }
            ],
            indonesia_raya: [
                { note: "C4", number: "1", lyric: "In-", duration: 500 },
                { note: "E4", number: "5", lyric: "do-", duration: 500 },
                { note: "G4", number: "1'", lyric: "ne-", duration: 500 },
                { note: "C5", number: "6'", lyric: "sia", duration: 500 },
                { note: "B4", number: "5'", lyric: "ta-", duration: 500 },
                { note: "A4", number: "3'", lyric: "na-", duration: 500 },
                { note: "G4", number: "1'", lyric: "ku", duration: 1000 },
                { note: "G4", number: "1'", lyric: "Ta-", duration: 500 },
                { note: "A4", number: "3'", lyric: "nah", duration: 500 },
                { note: "C5", number: "6'", lyric: "air-", duration: 500 },
                { note: "B4", number: "5'", lyric: "ku", duration: 500 },
                { note: "A4", number: "3'", lyric: "ta-", duration: 500 },
                { note: "G4", number: "1'", lyric: "nah", duration: 1000 }
            ],
            mengheningkan_cipta: [
                { note: "C4", number: "1", lyric: "De-", duration: 500 },
                { note: "G4", number: "1'", lyric: "ngan", duration: 500 },
                { note: "A4", number: "3'", lyric: "se-", duration: 500 },
                { note: "C5", number: "6'", lyric: "luruh", duration: 500 },
                { note: "B4", number: "5'", lyric: "ang-", duration: 500 },
                { note: "A4", number: "3'", lyric: "ka-", duration: 500 },
                { note: "G4", number: "1'", lyric: "sa", duration: 1000 },
                { note: "C5", number: "6'", lyric: "Ra-", duration: 500 },
                { note: "B4", number: "5'", lyric: "ya", duration: 500 },
                { note: "A4", number: "3'", lyric: "me-", duration: 500 },
                { note: "G4", number: "1'", lyric: "mu-", duration: 500 },
                { note: "F4", number: "6", lyric: "ji", duration: 500 },
                { note: "E4", number: "5", lyric: "pahlawan", duration: 1000 }
            ],
            bagimu_negeri: [
                { note: "C5", number: "6'", lyric: "Pa-", duration: 500 },
                { note: "C5", number: "6'", lyric: "da-", duration: 500 },
                { note: "B4", number: "5'", lyric: "mu", duration: 500 },
                { note: "A4", number: "3'", lyric: "ne-", duration: 500 },
                { note: "G4", number: "1'", lyric: "ge-", duration: 500 },
                { note: "C5", number: "6'", lyric: "ri", duration: 500 },
                { note: "B4", number: "5'", lyric: "ka-", duration: 500 },
                { note: "A4", number: "3'", lyric: "mi", duration: 1000 },
                { note: "C5", number: "6'", lyric: "Ber-", duration: 500 },
                { note: "B4", number: "5'", lyric: "jan-", duration: 500 },
                { note: "A4", number: "3'", lyric: "ji", duration: 500 },
                { note: "G4", number: "1'", lyric: "", duration: 1000 }
            ],
            ibu_kita_kartini: [
                { note: "C4", number: "1", lyric: "I-", duration: 500 },
                { note: "D4", number: "3", lyric: "bu", duration: 500 },
                { note: "E4", number: "5", lyric: "ki-", duration: 500 },
                { note: "F4", number: "6", lyric: "ta", duration: 500 },
                { note: "G4", number: "1'", lyric: "kar-", duration: 500 },
                { note: "A4", number: "3'", lyric: "ti-", duration: 500 },
                { note: "G4", number: "1'", lyric: "ni", duration: 1000 },
                { note: "F4", number: "6", lyric: "Pu-", duration: 500 },
                { note: "E4", number: "5", lyric: "tri", duration: 500 },
                { note: "D4", number: "3", lyric: "se-", duration: 500 },
                { note: "C4", number: "1", lyric: "jati", duration: 1000 }
            ],
            syukur: [
                { note: "C4", number: "1", lyric: "Da-", duration: 500 },
                { note: "E4", number: "5", lyric: "ri", duration: 500 },
                { note: "G4", number: "1'", lyric: "da-", duration: 500 },
                { note: "A4", number: "3'", lyric: "ri", duration: 500 },
                { note: "G4", number: "1'", lyric: "syu-", duration: 500 },
                { note: "F4", number: "6", lyric: "kur", duration: 500 },
                { note: "E4", number: "5", lyric: "", duration: 1000 },
                { note: "G4", number: "1'", lyric: "Ku-", duration: 500 },
                { note: "A4", number: "3'", lyric: "pan-", duration: 500 },
                { note: "C5", number: "6'", lyric: "jang-", duration: 500 },
                { note: "B4", number: "5'", lyric: "kan", duration: 500 },
                { note: "A4", number: "3'", lyric: "ke", duration: 500 },
                { note: "G4", number: "1'", lyric: "Mu", duration: 1000 }
            ],
            tanah_airku: [
                { note: "C4", number: "1", lyric: "Ta-", duration: 500 },
                { note: "E4", number: "5", lyric: "nah", duration: 500 },
                { note: "G4", number: "1'", lyric: "air-", duration: 500 },
                { note: "A4", number: "3'", lyric: "ku", duration: 500 },
                { note: "G4", number: "1'", lyric: "ta-", duration: 500 },
                { note: "F4", number: "6", lyric: "nah", duration: 500 },
                { note: "E4", number: "5", lyric: "ku", duration: 1000 },
                { note: "G4", number: "1'", lyric: "Yang", duration: 500 },
                { note: "A4", number: "3'", lyric: "ku", duration: 500 },
                { note: "C5", number: "6'", lyric: "cin-", duration: 500 },
                { note: "B4", number: "5'", lyric: "ta", duration: 500 },
                { note: "A4", number: "3'", lyric: "se-", duration: 500 },
                { note: "G4", number: "1'", lyric: "lalunya", duration: 1000 }
            ],
            bendera_merah_putih: [
                { note: "C4", number: "1", lyric: "Ber-", duration: 500 },
                { note: "E4", number: "5", lyric: "ki-", duration: 500 },
                { note: "G4", number: "1'", lyric: "bar-", duration: 500 },
                { note: "A4", number: "3'", lyric: "lah", duration: 500 },
                { note: "G4", number: "1'", lyric: "ben-", duration: 500 },
                { note: "F4", number: "6", lyric: "de-", duration: 500 },
                { note: "E4", number: "5", lyric: "ra", duration: 1000 },
                { note: "G4", number: "1'", lyric: "Merah", duration: 500 },
                { note: "A4", number: "3'", lyric: "pu-", duration: 500 },
                { note: "C5", number: "6'", lyric: "tih", duration: 500 },
                { note: "B4", number: "5'", lyric: "ber-", duration: 500 },
                { note: "A4", number: "3'", lyric: "sa-", duration: 500 },
                { note: "G4", number: "1'", lyric: "ma", duration: 1000 }
            ],
            gebyar_gebyar: [
                { note: "C5", number: "6'", lyric: "In-", duration: 500 },
                { note: "B4", number: "5'", lyric: "do-", duration: 500 },
                { note: "A4", number: "3'", lyric: "ne-", duration: 500 },
                { note: "G4", number: "1'", lyric: "sia", duration: 500 },
                { note: "A4", number: "3'", lyric: "ge-", duration: 500 },
                { note: "B4", number: "5'", lyric: "byar-", duration: 500 },
                { note: "C5", number: "6'", lyric: "gebyar", duration: 1000 },
                { note: "C5", number: "6'", lyric: "Ber-", duration: 500 },
                { note: "B4", number: "5'", lyric: "sa-", duration: 500 },
                { note: "A4", number: "3'", lyric: "ma", duration: 500 },
                { note: "G4", number: "1'", lyric: "kita", duration: 1000 }
            ],
            satu_satu: [
                { note: "C4", number: "1", lyric: "Sa-", duration: 500 },
                { note: "E4", number: "5", lyric: "tu", duration: 500 },
                { note: "G4", number: "1'", lyric: "nu-", duration: 500 },
                { note: "A4", number: "3'", lyric: "sa", duration: 500 },
                { note: "G4", number: "1'", lyric: "sa-", duration: 500 },
                { note: "F4", number: "6", lyric: "tu", duration: 500 },
                { note: "E4", number: "5", lyric: "bangsa", duration: 1000 },
                { note: "G4", number: "1'", lyric: "Sa-", duration: 500 },
                { note: "A4", number: "3'", lyric: "tu", duration: 500 },
                { note: "C5", number: "6'", lyric: "ra-", duration: 500 },
                { note: "B4", number: "5'", lyric: "su", duration: 500 },
                { note: "A4", number: "3'", lyric: "sa-", duration: 500 },
                { note: "G4", number: "1'", lyric: "tu", duration: 1000 }
            ],
            hymne_guru: [
                { note: "C4", number: "1", lyric: "Te-", duration: 500 },
                { note: "E4", number: "5", lyric: "r-", duration: 500 },
                { note: "G4", number: "1'", lyric: "i-", duration: 500 },
                { note: "A4", number: "3'", lyric: "ma", duration: 500 },
                { note: "G4", number: "1'", lyric: "ka-", duration: 500 },
                { note: "F4", number: "6", lyric: "sih", duration: 500 },
                { note: "E4", number: "5", lyric: "guruku", duration: 1000 },
                { note: "G4", number: "1'", lyric: "Ka-", duration: 500 },
                { note: "A4", number: "3'", lyric: "mi", duration: 500 },
                { note: "C5", number: "6'", lyric: "me-", duration: 500 },
                { note: "B4", number: "5'", lyric: "nga-", duration: 500 },
                { note: "A4", number: "3'", lyric: "pa", duration: 500 },
                { note: "G4", number: "1'", lyric: "kanmu", duration: 1000 }
            ]
        };

        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const songSelect = document.getElementById('songSelect');
        const noteDisplay = document.getElementById('noteDisplay');
        const fullNotes = document.getElementById('fullNotes');
        const keys = document.querySelectorAll('.key');
        const mobilePopup = document.getElementById('mobilePopup');
        const playButton = document.getElementById('playButton');
        let currentSong = songs.bintang_kecil;
        let currentNoteIndex = 0;
        let isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

        function playNote(frequency, duration = 500) {
            try {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();

                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
                gainNode.gain.setValueAtTime(0.5, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration / 1000);

                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);

                oscillator.start();
                oscillator.stop(audioContext.currentTime + duration / 1000);
            } catch (error) {
                console.error('Error playing note:', error);
            }
        }

        function updateNoteDisplay() {
            if (currentNoteIndex < currentSong.length) {
                noteDisplay.textContent = `Mainkan nada: ${currentSong[currentNoteIndex].number}`;
            } else {
                noteDisplay.textContent = "Lagu selesai! Pilih lagu lagi.";
            }
        }

        function scrollToCurrentNote() {
            const currentNoteElement = fullNotes.querySelector('.current');
            if (currentNoteElement) {
                currentNoteElement.scrollIntoView({ behavior: 'smooth', inline: 'center' });
            }
        }

        function updateFullNotes() {
            fullNotes.innerHTML = '';
            currentSong.forEach((note, index) => {
                const noteSpan = document.createElement('span');
                const numberDiv = document.createElement('div');
                numberDiv.textContent = note.number;
                const lyricDiv = document.createElement('div');
                lyricDiv.textContent = note.lyric || '';
                lyricDiv.classList.add('lyric');
                noteSpan.appendChild(numberDiv);
                noteSpan.appendChild(lyricDiv);
                if (index < currentNoteIndex) {
                    noteSpan.classList.add('played');
                } else if (index === currentNoteIndex) {
                    noteSpan.classList.add('current');
                }
                fullNotes.appendChild(noteSpan);
            });
            scrollToCurrentNote();
        }

        function selectSong() {
            try {
                currentSong = songs[songSelect.value];
                currentNoteIndex = 0;
                updateNoteDisplay();
                updateFullNotes();
            } catch (error) {
                console.error('Error selecting song:', error);
            }
        }

        function startGame() {
            mobilePopup.style.display = 'none';
            selectSong();
            if (audioContext.state === 'suspended') {
                audioContext.resume().catch(error => console.error('Error resuming audio context:', error));
            }
        }

        songSelect.addEventListener('change', selectSong);

        keys.forEach(key => {
            key.addEventListener('click', () => {
                try {
                    const note = key.dataset.note;
                    const frequency = parseFloat(key.dataset.freq);
                    if (!note || isNaN(frequency)) {
                        console.error('Invalid note or frequency:', note, frequency);
                        return;
                    }
                    playNote(frequency, currentSong[currentNoteIndex]?.duration || 500);
                    if (currentNoteIndex < currentSong.length && note === currentSong[currentNoteIndex].note) {
                        currentNoteIndex++;
                        updateNoteDisplay();
                        updateFullNotes();
                    }
                } catch (error) {
                    console.error('Error handling key click:', error);
                }
            });
        });

        document.addEventListener('click', () => {
            if (audioContext.state === 'suspended') {
                audioContext.resume().catch(error => console.error('Error resuming audio context:', error));
            }
        }, { once: true });

        function checkOrientation() {
            if (isMobile) {
                if (window.innerWidth > window.innerHeight) {
                    mobilePopup.style.display = 'none';
                    startGame();
                } else {
                    mobilePopup.style.display = 'flex';
                }
            } else {
                mobilePopup.style.display = 'none';
                startGame();
            }
        }

        if (isMobile && screen.orientation && screen.orientation.lock) {
            screen.orientation.lock('landscape').catch(error => {
                console.log('Orientation lock failed: ', error);
            });
        }

        window.addEventListener('resize', checkOrientation);
        window.addEventListener('orientationchange', checkOrientation);
        playButton.addEventListener('click', () => {
            if (window.innerWidth > window.innerHeight) {
                mobilePopup.style.display = 'none';
                startGame();
            } else {
                alert('Harap putar perangkat ke mode landscape untuk bermain!');
            }
        });

        checkOrientation();
    </script>
</body>
</html>
